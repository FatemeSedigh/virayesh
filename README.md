ุณุณุชู ุงูู Milou - ูุณุชูุฏุงุช ูู
๐ ูุนุฑู ฺฉู

Milou ฺฉ ุณุงูุงูู ฺฉุงูู ูุฏุฑุช ุงูู ุงุณุช ฺฉู ุจุง ุฌุงูุง ู Hibernate ุชูุณุนู ุฏุงุฏู ุดุฏู ุงุณุช. ุงู ุณุณุชู ุชูุงู ูุงุจูุชโูุง ฺฉ ุณุฑูุณ ุงูู ุญุฑููโุง ุงุฒ ุฌููู ุงุญุฑุงุฒ ููุช ฺฉุงุฑุจุฑุงูุ ุงุฑุณุงู ุงููุ ูุดุงูุฏู ุงููโูุงุ ูพุงุณุฎโฺฏู ู ุงุฑุณุงู ูุฌุฏุฏ ุฑุง ูุฑุงูู ูโฺฉูุฏ.

๐๏ธ ูุนูุงุฑ ุณุณุชู

ุณุงุฎุชุงุฑ ูพฺฉุฌโูุง

<img width="980" height="765" alt="Screenshot 1404-05-29 at 00 07 17" src="https://github.com/user-attachments/assets/938f6ab9-2ecf-4fd0-a8ee-54478bcf2d87" />

๐ ุณุณุชู ุงุญุฑุงุฒ ููุช

ฺฉูุงุณ Login

ุงู ฺฉูุงุณ ูุณุฆููุช ุงุญุฑุงุฒ ููุช ฺฉุงุฑุจุฑุงู ุฑุง ุจุฑ ุนูุฏู ุฏุงุฑุฏ:

ุชฺฉูู ุฎูุฏฺฉุงุฑ ุงูู: ุงฺฏุฑ ุฏุงููู ูุดุฎุต ูุดุฏู ุจุงุดุฏุ ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ "@milou.com" ุงุถุงูู ูโฺฉูุฏ
ุงุญุฑุงุฒ ููุช ุงูู: ุงุนุชุจุงุฑุณูุฌ ุงุทูุงุนุงุช ฺฉุงุฑุจุฑ ุฏุฑ ุจุฑุงุจุฑ ุฏุชุงุจุณ
ูุฏุฑุช ูุดุณุช: ุงุณุชูุงุฏู ุงุฒ ูุดุณุชโูุง Hibernate ุจุฑุง ุนููุงุช ุฏุชุงุจุณ

ฺฉูุงุณ Signup

ูุฏุฑุช ุซุจุช ูุงู ฺฉุงุฑุจุฑุงู ุฌุฏุฏ:

ุงุนุชุจุงุฑุณูุฌ ูพุณูุฑุฏ: ุญุฏุงูู ธ ฺฉุงุฑุงฺฉุชุฑ ูุงุฒู ุงุณุช
ุจุฑุฑุณ ุชฺฉุฑุงุฑ ูุจูุฏู ุงูู: ุฌููฺฏุฑ ุงุฒ ุซุจุช ุงูู ุชฺฉุฑุงุฑ
ุงุฌุงุฏ ฺฉุงุฑุจุฑ ุฌุฏุฏ: ุฐุฎุฑู ุงุทูุงุนุงุช ฺฉุงุฑุจุฑ ุฏุฑ ุฏุชุงุจุณ
๐ง ุณุณุชู ูุฏุฑุช ุงูู

ฺฉูุงุณ Send

ุงุฑุณุงู ุงูู ุฌุฏุฏ ุจุง ูุงุจูุชโูุง ุฒุฑ:

ฺฏุฑูุฏฺฏุงู ฺูุฏฺฏุงูู: ุงูฺฉุงู ุงุฑุณุงู ุจู ฺูุฏู ฺฏุฑูุฏู ุจุง ุฌุฏุง ฺฉุฑุฏู ุจุง ฺฉุงูุง
ฺฉุฏ ฺฉุชุง: ุชููุฏ ุฎูุฏฺฉุงุฑ ฺฉุฏ ถ ุฑูู ููุญุตุฑ ุจู ูุฑุฏ ุจุฑุง ูุฑ ุงูู
ูุฏุฑุช ุฎุทุง: ฺฉูุชุฑู ุฎุทุงูุง ูุฑุจูุท ุจู ฺฏุฑูุฏฺฏุงู ูุงููุฌูุฏ
ฺฉูุงุณ View

ูุดุงูุฏู ุงููโูุง ุจุง ฺฏุฒููโูุง ูุฎุชูู:

ููู ุงููโูุง: ููุงุด ุชูุงู ุงููโูุง ุฏุฑุงูุช
ุงููโูุง ุฎูุงูุฏู ูุดุฏู: ููุท ุงููโูุง ุฎูุงูุฏู ูุดุฏู
ุงููโูุง ุงุฑุณุงู: ุงููโูุง ุงุฑุณุงู ุดุฏู ุชูุณุท ฺฉุงุฑุจุฑ
ูุดุงูุฏู ุจุง ฺฉุฏ: ูุดุงูุฏู ุงูู ุฎุงุต ุจุง ูุงุฑุฏ ฺฉุฑุฏู ฺฉุฏ
ฺฉูุงุณ Reply

ูพุงุณุฎ ุจู ุงููโูุง ุฏุฑุงูุช:

ุงูุชุฎุงุจ ุงูู: ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉุฏ ุงูู
ุงุฌุงุฏ ูพุงุณุฎ: ุชููุฏ ุฎูุฏฺฉุงุฑ ููุถูุน ุจุง ูพุดููุฏ "[Re]"
ฺฏุฑูุฏฺฏุงู ูพุงุณุฎ: ุดุงูู ูุฑุณุชูุฏู ุงุตู ู ุชูุงู ฺฏุฑูุฏฺฏุงู ุงุตู (ุจู ุฌุฒ ุฎูุฏ ฺฉุงุฑุจุฑ)
ฺฉูุงุณ Forward

ุงุฑุณุงู ูุฌุฏุฏ ุงูู:

ุงูุชุฎุงุจ ุงูู: ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉุฏ ุงูู
ฺฏุฑูุฏฺฏุงู ุฌุฏุฏ: ุชุนู ฺฏุฑูุฏฺฏุงู ุฌุฏุฏ ุจุฑุง ุงุฑุณุงู ูุฌุฏุฏ
ุงุฌุงุฏ ุงูู ุฌุฏุฏ: ุชููุฏ ุฎูุฏฺฉุงุฑ ููุถูุน ุจุง ูพุดููุฏ "[Fw]"
๐๏ธ ูุฏูโูุง ุฏุชุงุจุณ

ฺฉูุงุณ User

ูุฏู ุงุทูุงุนุงุช ฺฉุงุฑุจุฑุงู:

@Entity
@Table(name = "users")
public class User {
    private Integer id;
    private String name;
    private String email;
    private String password;
    // ุฑูุงุจุท ุจุง ุงููโูุง ุงุฑุณุงู ู ุฏุฑุงูุช
}


ฺฉูุงุณ Email

ูุฏู ุงุทูุงุนุงุช ุงูู:



@Entity
@Table(name = "emails")
public class Email {
    private int id;
    private User sender;
    private String code;
    private String subject;
    private String body;
    private LocalDate sentDate;
    private LocalTime sentTime;
    // ูุณุช ฺฏุฑูุฏฺฏุงู




ฺฉูุงุณ EmailRecipient

ูุฏู ุงุฑุชุจุงุท ุงูู ู ฺฏุฑูุฏฺฏุงู:


@Entity
@Table(name = "email_recipients")
@IdClass(EmailRecipientId.class)
public class EmailRecipient {
    private Email email;
    private User recipient;
    private boolean isRead;
}


๐ ฺฏุฑุฏุด ฺฉุงุฑ ุจุฑูุงูู

ฑ. ุงุฌุฑุง ุจุฑูุงูู

ุจุฑูุงูู ุงุฒ ฺฉูุงุณ Main ุดุฑูุน ูโุดูุฏ ู SessionFactory Hibernate ุฑุง ุฑุงูโุงูุฏุงุฒ ูโฺฉูุฏ.

ฒ. ููู ุงุตู

ฺฉุงุฑุจุฑ ุจู ุฏู ฺฏุฒูู ุงูุชุฎุงุจ ูโฺฉูุฏ:

ูุฑูุฏ (Login): ุจุฑุง ฺฉุงุฑุจุฑุงู ููุฌูุฏ
ุซุจุช ูุงู (Signup): ุจุฑุง ฺฉุงุฑุจุฑุงู ุฌุฏุฏ
ณ. ุงุญุฑุงุฒ ููุช

ุจุฑุฑุณ ุงุนุชุจุงุฑ ฺฉุงุฑุจุฑ
ููุงุด ุงููโูุง ุฎูุงูุฏู ูุดุฏู ุฏุฑ ุตูุฑุช ููููุช
ด. ููู ุนููุงุช

ูพุณ ุงุฒ ูุฑูุฏ ููููุ ููู ุงุตู ููุงุด ุฏุงุฏู ูโุดูุฏ:

ุงุฑุณุงู (S): ุงุฌุงุฏ ู ุงุฑุณุงู ุงูู ุฌุฏุฏ
ูุดุงูุฏู (V): ูุดุงูุฏู ุงููโูุง ุจุง ฺฏุฒููโูุง ูุฎุชูู
ูพุงุณุฎ (R): ูพุงุณุฎ ุจู ุงูู ุฎุงุต
ุงุฑุณุงู ูุฌุฏุฏ (F): ุงุฑุณุงู ูุฌุฏุฏ ุงูู ุจู ฺฏุฑูุฏฺฏุงู ุฌุฏุฏ
โ๏ธ ูพฺฉุฑุจูุฏ Hibernate

ูุงู hibernate.cfg.xml

ุชูุธูุงุช ุงุชุตุงู ุจู ุฏุชุงุจุณ MySQ


<property name="hibernate.connection.url">
    jdbc:mysql://k2.liara.cloud:30055/main_email_
</property>
<property name="hibernate.connection.username">root</property>
<property name="hibernate.connection.password">jnmeyDzSxK9IyrbU9KaysoCY</property>



ูุงูพูฺฏ ููุฌูุฏุชโูุง

ุซุจุช ฺฉูุงุณโูุง ูุฏู ุจุฑุง ุงุณุชูุงุฏู ุชูุณุท Hibernate:


<mapping class="milou.model.User"/>
<mapping class="milou.model.Email"/>
<mapping class="milou.model.EmailRecipient"/>



๐ก๏ธ ูฺฺฏโูุง ุงููุช

ฺฉูุชุฑู ุฏุณุชุฑุณ

ฺฉุงุฑุจุฑุงู ููุท ูโุชูุงููุฏ ุงููโูุง ุฎูุฏ ุฑุง ูุดุงูุฏู ฺฉููุฏ
ุจุฑุฑุณ ูุฌูุฒ ุจุฑุง ูพุงุณุฎ ู ุงุฑุณุงู ูุฌุฏุฏ ุงููโูุง
ุฌููฺฏุฑ ุงุฒ ุฏุณุชุฑุณ ุจู ุงููโูุง ุฏฺฏุฑ ฺฉุงุฑุจุฑุงู
ุงุนุชุจุงุฑุณูุฌ ุฏุงุฏูโูุง

ุจุฑุฑุณ ุทูู ูพุณูุฑุฏ
ุจุฑุฑุณ ฺฉุชุง ุงูู
ุงุนุชุจุงุฑุณูุฌ ูุงูุจ ุงูู
๐ ฺฉูุฆุฑโูุง ููู

ุฏุฑุงูุช ุงููโูุง ุฎูุงูุฏู ูุดุฏู


Query<EmailRecipient> query = session.createQuery(
    "FROM EmailRecipient er " +
    "WHERE er.recipient.id = :userId " +
    "AND er.isRead = false " +
    "AND er.email.sender.id != :userId " +
    "ORDER BY er.email.sentDate DESC, er.email.sentTime DESC",
    EmailRecipient.class);


ุจุฑุฑุณ ูุฌูุฏ ฺฉุงุฑุจุฑ




User existingUser = session.createQuery("FROM User WHERE email = :email", User.class)
    .setParameter("email", email)
    .uniqueResult();



๐ฏ ูฺฺฏโูุง ฺฉูุฏ




ุฑุงุจุท ฺฉุงุฑุจุฑ ุฎุท ูุฑูุงู: ุณุงุฏู ู ฺฉุงุฑุจุฑูพุณูุฏ
ูุฏุฑุช ูุดุณุช ุฎูุฏฺฉุงุฑ: ุจุง ุงุณุชูุงุฏู ุงุฒ try-with-resources
ุชุงุฑุฎ ู ุฒูุงู ุฎูุฏฺฉุงุฑ: ุซุจุช ุฎูุฏฺฉุงุฑ ุฒูุงู ุงุฑุณุงู ุงูู
ฺฉุฏ ฺฉุชุง: ุชููุฏ ุฎูุฏฺฉุงุฑ ฺฉุฏ ถ ุฑูู ุจุฑุง ูุฑ ุงูู
ูพุดุชุจุงู ุงุฒ ฺูุฏฺฏุฑูุฏู: ุงุฑุณุงู ุจู ฺูุฏู ฺฉุงุฑุจุฑ simultaneously
ูุฏุฑุช ูุถุนุช ุฎูุงูุฏู: ูพฺฏุฑ ุงููโูุง ุฎูุงูุฏู ุดุฏู/ูุดุฏู
๐ ูฺฉุงุช ูู ููู

ุงูฺฏููุง ุทุฑุงุญ

Single Responsibility Principle: ูุฑ ฺฉูุงุณ ฺฉ ูุณุฆููุช ูุดุฎุต ุฏุงุฑุฏ
Dependency Injection: ุชุฒุฑู ูุงุจุณุชฺฏโูุง ุงุฒ ุทุฑู constructor
DAO Pattern: ุฌุฏุงุณุงุฒ ูุงู ุฏุณุชุฑุณ ุจู ุฏุงุฏู
ูุฏุฑุช ุญุงูุธู

ุงุณุชูุงุฏู ุงุฒ try-with-resources ุจุฑุง ูุฏุฑุช ุฎูุฏฺฉุงุฑ ููุงุจุน
ุจุณุชู ุฎูุฏฺฉุงุฑ Session ูุง Hibernate
ูุฏุฑุช ุตุญุญ ุชุฑุงฺฉูุดโูุง
ูุฏุฑุช ุฎุทุง

ฺฉูุชุฑู ุฎุทุงูุง ุฏุชุงุจุณ
Handling ฺฉุงุฑุจุฑุงู ูุงููุฌูุฏ
ูุฏุฑุช ุฎุทุงูุง ูุฑูุฏ ฺฉุงุฑุจุฑ
ุงู ูุณุชูุฏุงุช ุชูุงู ุฌูุจูโูุง ูู ูพุฑูฺู ุฑุง ูพูุดุด ูโุฏูุฏ ู ุจุฑุง ุงุฑุงุฆู ุจู TA ฺฉุงููุงู ููุงุณุจ ุงุณุช.










